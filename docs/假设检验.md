# 假设检验 (Hypothesis Testing)

## 1. 示例展示 (Example Showcase)

### 目标
通过引人入胜的交互示例，让初学者直观感受假设检验的核心思想。

### 核心交互示例： "魔法药水"效果大检验

#### 场景设定
- 你是一位魔法学院的学生，得到一瓶声称能"提高注意力"的神秘药水（饮用后魔法测验分数会提升）。
- 网页显示一个闪烁的魔法药瓶和一组魔法测验题。

#### 功能设计
1. **用户输入**
   - 用户可以选择显著性水平 (α)（例如 0.05, 0.01）和样本量 (n)（例如 10, 20名志愿者）。
2. **设定假设**
   - **原假设 (H₀):** 药水没有效果。（μ = μ₀，即分数无变化）
   - **备择假设 (H₁):** 药水有效果。（μ &gt; μ₀，即分数提高）(右尾检验)
3. **动画演示**
   - 点击"进行实验"按钮，网页模拟招募n名志愿者，记录他们饮用普通药水(安慰剂)后的测验分数（基线）。
   - 然后模拟他们饮用神秘药水后的测验分数。
   - 动态显示分数变化和差异。
4. **计算与决策**
   - 系统自动计算配对样本的差异，并计算t统计量和P值。
   - 动态魔法效果：
     - 如果 P值 &lt; α: 药瓶发出耀眼金光，"在α=%的水平下，我们有显著证据拒绝原假设，药水可能有效！" （显示效果显著的魔法动画）
     - 如果 P值 ≥ α: 药瓶只是微微发光，"在α=%的水平下，证据不足，无法确定药水有效。" （显示效果不明显的动画）
5. **揭示真相与重复实验**
   - 一个"揭示真相"按钮，点击后显示药水的真实效果（例如"此药水真实效果：平均提高5分"）。
   - 一个"重复实验"按钮。点击后，快速模拟多次实验。
   - 统计发现真效果（当药水有效时拒绝H₀）和错误结论（第一类错误：误认为无效药水有效；第二类错误：漏掉有效药水）的次数。

### 初学者收获
直观理解假设检验是基于概率的决策，以及两类错误的概念。

## 2. 理论探索 (Theoretical Exploration)

### 设计理念
将理论推导转化为侦探破案的互动旅程。

### 页面布局
- 左侧是核心理论推导内容。
- 右侧是AI助手和理解度图谱。

### 理论推导交互流程设计

#### 标题：侦探教室：破解假设检验之谜
#### 引言
"欢迎来到侦探学院！今天你将学习如何用数据证据破解谜案。原假设H₀是我们的'初始嫌疑'（通常是无辜的），而备择假设H₁是我们要寻找的'真相'。"

#### 步骤 1/5：设立假设——确定调查方向
- **内容**
  - "每个案件都需要明确调查对象。原假设 (H₀) 代表'现状'或'无异常'。备择假设 (H₁) 代表我们怀疑的'异常情况'。"
  - **公式/规则 1:** H₀: μ = μ_0 (或其他形式) vs. H₁: μ ≠ μ_0 (双侧检验)
- **交互元素**
  - **理解度按钮**：【1: 完全不懂】- 【2】- 【3: 似懂非懂】- 【4】- 【5: 完全理解】
  - **案例选择器**：用户可选择不同"案件"（如"珠宝失窃案"、"神秘信号案"），系统生成对应的H₀和H₁。
  - **AI助手（如果求助）**：用侦探调查的类比解释H₀和H₁。

#### 步骤 2/5：收集证据——数据与检验统计量
- **内容**
  - "接下来，我们收集证据——数据。我们计算一个检验统计量（如Z值或t值）。"
  - "这个统计量衡量了证据与H₀假设的偏离程度。"
  - **公式 2 (Z检验为例):** Z = (X̄ - μ₀) / (σ/√n)
- **交互元素**
  - **理解度按钮**：【1】- 【2】- 【3】- 【4】- 【5】
  - **可视化**：显示H₀成立时的抽样分布。动态显示X̄和对应的Z值。
  - **AI助手（如果求助）**：解释统计量的意义。

#### 步骤 3/5：评估证据——P值的意义
- **内容**
  - "P值 是：在H₀成立的前提下，观察到当前证据（或更极端证据）的概率。"
  - "P值越小，证据越不利于H₀。"
- **交互元素**
  - **理解度按钮**：【1】- 【2】- 【3】- 【4】- 【5】
  - **交互可视化**：正态分布图，用户拖动Z值点，实时显示P值区域。
  - **AI助手（如果求助）**：用侦探破案类比P值。

#### 步骤 4/5：做出判决——显著性水平与决策
- **内容**
  - "显著性水平 α 是我们设定的证据门槛。"
  - **决策法则**：
    - 如果 P值 &lt; α, 则拒绝 H₀
    - 如果 P值 ≥ α, 则不拒绝 H₀
- **交互元素**
  - **理解度按钮**：【1】- 【2】- 【3】- 【4】- 【5】
  - **可视化**：分布图上调节α值，标出拒绝域。
  - **AI助手（如果求助）**：解释α和P值的区别。

#### 步骤 5/5：结论与错误——总结与反思
- **内容**
  - "做出结论：'拒绝H₀' 或 '不拒绝H₀'。"
  - "可能错误：
    - 第一类错误 (α): H₀为真时拒绝它。
    - 第二类错误 (β): H₀为假时未拒绝它。"
- **交互元素**
  - **理解度按钮**：【1】- 【2】- 【3】- 【4】- 【5】
  - **交互表格**：2x2决策真相表，用户选择H₀真假和决策，系统显示结果类型。
  - **AI助手（如果求助）**：用"冤枉好人"和"放走坏人"类比两类错误。

#### 理解度数据收集与可视化
- 用户完成5个步骤评分后，生成个人理解度图谱，直观展示学习薄弱点。

## 3. 实践应用 (Practical Application)

### 应用一：【游戏设计】武器平衡性检验

#### 场景与问题形式化
- **背景**：一款MOBA游戏中，新英雄"暗影刺客"的胜率引发玩家争议。设计师需要判断其是否过于强势。
- **假设**
  - **H₀:** π = 50% (英雄强度正常，胜率与平均胜率无差异)
  - **H₁:** π &gt; 50% (英雄过于强势，胜率显著高于平均)
- **数据收集**：收集该英雄最近n场对局的胜负数据。
- **统计检验**：单比例Z检验。

#### 核心公式与计算步骤
1. **计算样本胜率**
   - p_hat = (获胜场次) / n
2. **计算检验统计量**
   - Z = (p_hat - 0.5) / √(0.5*(1-0.5)/n)
3. **决策 (右尾检验)**
   - 如果 Z &gt; Z_α (e.g., Z &gt; 1.645 for α=0.05)，则拒绝H₀，认为英雄过于强势，需要削弱。
   - 否则，不拒绝H₀，认为英雄强度在可接受范围内。

#### 网页交互设计要点
- **模拟界面**：游戏战绩面板风格。
- **用户交互**：点击"分析近期比赛"按钮，系统模拟从真实胜率（可设置，如55%或50%）的总体中抽取n场比赛数据。
- **可视化反馈**
  - 动态显示胜场数/总场数，实时更新Z值和P值。
  - 如果拒绝H₀，显示"警告！英雄胜率异常，建议削弱！"并伴随警示图标。
  - 如果不拒绝H₀，显示"英雄强度正常，保持观察。"。
  -  - **趋势图**：可用趋势图展示不同样本量下的决策变化。
- **教学信息**：展示抽样分布、拒绝域，让用户体验平衡性决策的统计基础。

### 应用二：【奇幻农业】神奇肥料效果评估

#### 场景与问题形式化
- **背景**：幻想农场中，一种新型"精灵肥料"声称能让魔法南瓜的产量翻倍。农场主需要验证此说法。
- **假设**
  - **H₀:** μ_new ≤ μ_old (新肥料效果不超过旧肥料)
  - **H₁:** μ_new &gt; μ_old (新肥料效果更好)
- **数据收集**：将魔法南瓜田分为两组，分别使用旧肥料和新肥料，记录收获时的南瓜重量。
- **统计检验**：两独立样本t检验。

#### 核心公式与计算步骤
1. **计算各组均值与标准差**
   - X̄_old, S_old (旧肥料组)
   - X̄_new, S_new (新肥料组)
2. **计算t统计量**
   - t = (X̄_new - X̄_old) / √(S_p²*(1/n_old + 1/n_new)) (其中S_p²为合并方差)
3. **决策 (右尾检验)**
   - 如果 t &gt; t_α(df)，则拒绝H₀，相信新肥料确实更好。
   - 否则，不拒绝H₀，认为新肥料效果不显著。

#### 网页交互设计要点
- **模拟界面**：梦幻农场风格，有两块南瓜田。
- **用户交互**：点击"播种与收获"按钮，模拟作物生长过程。
- **可视化反馈**
  - 动态显示两组南瓜的平均大小和分布。
  - 计算出的t值和P值实时显示。
  - 如果拒绝H₀，新肥料田发出绿色光芒，"神奇肥料确实有效！"。
  - 如果不拒绝H₀，显示"也许需要更多实验才能发现效果..."。
  - **功效分析**：可展示"功效分析"，模拟不同效应大小和样本量下检测出真效应的概率。
- **教学信息**：强调实验设计（随机分组）、效应大小和统计功效的概念。

## 4. 章节练习 (Chapter Exercises)

### 目标
分层巩固知识。

### Level 1: 基础概念（选择题/判断题）
- e.g., "P值的定义是什么？"
- e.g., "判断：显著性水平α是当H₀为假时拒绝它的概率。"

### Level 2: 计算与解读（填空题/简答题）
- 提供样本数据、H₀和H₁、α，让用户计算检验统计量、P值，并做出决策。
- 提供一个检验结果（如"P值=0.03"），让用户解释其在α=0.05下的含义。

### Level 3: 分析与设计（思考题）
- "第一类错误和第二类错误的概率之间有什么关系？"
- "设计一个实验来检验一种新的魔法咒语是否比传统咒语施法速度更快。"

## 5. 网页内容设计概要 (UI/UX 建议)

### 顶部
- **标题**：假设检验
- **描述**：用数据做出决策的魔法艺术

### 左侧
- **导航栏**
  - **示例** (Example Showcase)
  - **理论** (Theoretical Exploration)
  - **应用** (Practical Application)
  - **练习** (Chapter Exercises)

### 布局与风格
- **【示例】部分**
  - **交互性**：突出"魔法药水"实验的交互性，包括动画演示和用户输入。
  - **视觉效果**：使用魔法主题的插图和动态效果，增强用户体验。
- **【理论】部分**
  - **步骤卡片**：每个理论步骤设计为独立的卡片，方便用户逐步学习。
  - **交互图表**：提供动态图表，帮助用户理解统计量和P值的变化。
- **【应用】部分**
  - **卡片设计**：每个应用案例采用卡片设计，包含示意图和模拟控件。
  - **视觉风格**：根据应用主题（如游戏设计、奇幻农业）设计不同的视觉风格。
- **【练习】部分**
  - **题目折叠**：题目可以折叠，方便用户查看和隐藏答案。
  - **答案解析**：提供详细的答案和解析，帮助用户巩固知识。

### 响应式设计
- **设备兼容性**：确保网页在各种设备（桌面、平板、手机）上都能良好显示。
- **交互优化**：优化按钮和控件的大小，确保在小屏幕上也能轻松操作。

---

## 6. 附录 (Appendix)

### 术语表 (Glossary)
- **假设检验 (Hypothesis Testing)**：一种统计方法，用于判断样本数据是否支持某个假设。
- **原假设 (Null Hypothesis, H₀)**：通常表示“无差异”或“无效果”的假设。
- **备择假设 (Alternative Hypothesis, H₁)**：与原假设相反的假设，表示“有差异”或“有效果”。
- **显著性水平 (Significance Level, α)**：在假设检验中，用来决定是否拒绝原假设的概率阈值。
- **P值 (P-value)**：在原假设成立的前提下，观察到当前数据或更极端数据的概率。
- **第一类错误 (Type I Error)**：当原假设为真时，错误地拒绝了原假设。
- **第二类错误 (Type II Error)**：当原假设为假时，错误地未能拒绝原假设。
- **统计功效 (Statistical Power)**：正确拒绝原假设的概率，即1 - β。



---

