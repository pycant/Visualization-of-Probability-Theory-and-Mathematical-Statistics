# 第一章 网页结构与导航锚点设计（随机事件与概率）

目标：在保持全站“玻璃质感 + 霓虹渐变”风格一致的前提下，完成第1章的页面结构、导航锚点、高层信息架构与响应式布局设计，支撑后续可视化与交互实现。

## 页面骨架（Layout）
- 顶部导航：统一加载 `templates/partials/navbar.html`（通过 `static/js/include-navbar.js`），章节下拉沿用绝对定位覆盖方案，不改变导航高度；第1章的章节色条为青色系。
- 章节头部（Hero）：
  - 左侧章徽（图标+渐变）；右侧章节标题、副标题与简述。
  - 关键操作：前往上一章/下一章、返回主页、查看目录。
- 主内容区（Main）：
  - Sticky 目录（TOC）在桌面端显示于左侧；移动端顶部“浮动目录”按钮。
  - 内容分区按大节（1.1～1.5）划分，每节内再分小节，配合锚点与返回顶部/上一节按钮。
  - 可视化卡片组件（VisCard）：统一样式；每卡包含标题、说明、控制区、画布区、结论/提示区。
  - 习题区：每大节末尾一组练习卡片，含题目、交互答案与解析。
- 底部（Footer）：沿用全站样式。

## 锚点与路由（Anchors & Routes）
- 章节路由：页面 `chapter1.html`。
- 锚点命名：`sec-<大节>-<小节>`，如 `sec-1-1-4` 对应“1.1.4 随机变量”。
- 大节锚点：
  - `#sec-1-1` 随机事件及其运算
  - `#sec-1-2` 概率的定义及其确定方法
  - `#sec-1-3` 概率的性质
  - `#sec-1-4` 条件概率
  - `#sec-1-5` 独立性
- 小节锚点示例（节选）：
  - `#sec-1-1-1` 随机现象
  - `#sec-1-1-2` 样本空间
  - `#sec-1-1-3` 随机事件
  - `#sec-1-1-4` 随机变量
  - `#sec-1-1-5` 事件间的关系
  - `#sec-1-1-6` 事件间的运算
  - `#sec-1-1-7` 事件域
  - `#ex-1-1` 习题1.1（所有习题锚点统一使用 `#ex-<大节>`）

## 响应式与布局规则
- 宽屏（≥1280px）：左侧显示 TOC；主内容两栏排布（说明+画布）。
- 中屏（≥768px）：TOC收缩为顶部；主内容单栏或 2×1 卡片栅格。
- 小屏（<768px）：所有卡片全宽；控制区折叠为手风琴；公式可横向滚动。

## 组件清单（Components）
- `HeroHeader`：章标题、图标、跳转按钮。
- `StickyTOC`：锚点目录、滚动定位、当前高亮。
- `VisCard`：标题、说明、控制区（参数/切换/重置）、画布、结论。
- `ExerciseCard`：题干、选项/填空、交互判分、解析展示。
- `FormulaBlock`：KaTeX 渲染的公式与提示。
- `VideoBlock`：可选视频插入（资源存在时加载，错误不影响页面功能）。

## 风格与主题（Consistency）
- 继承导航的“深蓝渐变 + 玻璃模糊 + 霓虹边缘”风格，正文背景为深色渐层。
- 第1章主色（Accent）：青色（与“随机变量”章节色条一致），用于按钮高亮、图示关键色。
- 文本与交互：悬停白色、激活青色高光、选中文本紫色半透明背景。

## 开发落地建议
- 在 `chapter1.html` 引入 `include-navbar.js` 与 `toolbox.js`；章节内各 `VisCard` 按锚点组织，后续脚本按卡片 `id` 挂载。
- 所有交互控件（滑块、开关、下拉）统一样式与尺寸；移动端使用更大的触控目标。