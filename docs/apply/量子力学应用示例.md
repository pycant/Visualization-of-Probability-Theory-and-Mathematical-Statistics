

- 所有「点击展开」均用 `<details>`  
- 所有代码块为 ```python，可直接在 VSCode Jupyter 内核运行  
- 所有可视化/交互控件用原生 HTML 嵌入，VSCode Markdown Preview Enhanced 可实时交互  

文件保存为 `量子力学中的概率统计.md`，复制即可使用。  


# 量子力学中的概率统计
> VSCode + Jupyter 内核运行，Markdown Preview Enhanced 秒变网页

---

## 0. 量子前置知识 5 分钟速通（非概率部分）
> 本节 **零公式**，只看图 & 类比，把“量子”变“常识”

| 概念 | 一句话类比 | 交互速览 |
|---|---|---|
| **波粒二象性** | 微信红包：你抢之前金额是“波”，抢完瞬间“粒子” | <details><summary>🎲 双缝交互</summary><button onclick="alert('延迟选择实验：先过缝→后决定要不要看路径→统计结果真的变！')">点我弹出思维实验</button></details> |
| **不确定性原理** | 手机电量&信号：越刷短视频（△x↑），电量掉越快（△p↓） | <details><summary>📱 滑杆模拟</summary><input type="range" min="1" max="100" value="50" oninput="this.nextElementSibling.innerText='△x·△p ≈ '+Math.round(100/this.value)">△x·△p ≈ 2</details> |
| **测量坍缩** | 盲盒：打开前全是概率，打开后只剩一种 | <details><summary>🎁 盲盒按钮</summary><button onclick="this.innerText=['猫🐱','狗🐶','隐藏款🦄'][Math.floor(Math.random()*3)]">拆盲盒</button></details> |
| **量子叠加** | 硬币旋转：既非正面也非反面，是“转” | <details><summary>🪙 旋转硬币</summary><img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14/assets/svg/1fa99.svg" width=40 style="animation:spin 1s linear infinite"/> <style>@keyframes spin {100%{transform:rotate(360deg)}}</style></details> |
| **量子纠缠** | 异地恋情侣：一方熬夜，另一方瞬间“感知” | <details><summary>💑 纠缠开关</summary><label><input type="checkbox" onchange="document.getElementById('lover').innerText=this.checked?'对方失眠😵':'对方熟睡😴'">我熬夜</label> <span id="lover">对方熟睡😴</span></details> |

---

## 1. 示例展示（Example Showcase）

**目标：** 30 秒看懂「波函数 vs 经典概率」谁更靠谱**

**核心交互：** 「电子云密度」双模型对决

功能：
1. 输入任意 3D 坐标 (x,y,z) → 实时显示「波函数概率密度 |ψ|²」+「经典高斯概率」
2. 一键「采样 1000 点」→ 看两种概率随样本逼近真相
3. 揭示真相：点击「真实测量」→ 显示命中次数 vs 概率校准图
4. 小总结：波函数 = 复数振幅，经典 = 实数概率

💡 小提示：把「核间距」拖到 90 pm，|ψ|² 出现双峰——这就是化学键！

---

## 2. 理论探索（Theoretical Exploration）

**标题：** 3 步拆解量子力学中的概率——从波函数到测量

---

### 知识点 1/3：波函数与 Born 概率

<details>
<summary>📖 专业名词速查（点击展开）</summary>

- **波函数 ψ(x,t)**：复数值，含全部量子信息
- **Born 规则**：P(x)=|ψ(x)|²，概率密度 = 模方
- **归一化**：∫|ψ(x)|²dx = 1，总概率为 1
</details>

#### ① 逐步推导（点击展开）
<details>
<summary>🔍 逐步推导（点击展开）</summary>

步骤 1：写一维无限深势阱基态  
ψ(x)=√(2/L) sin(πx/L), 0≤x≤L

步骤 2：取模方  
|ψ(x)|²=(2/L) sin²(πx/L)

步骤 3：验证归一化  
∫₀ᴸ |ψ(x)|² dx = 1
</details>

#### ② 趣味性可视化
- 滑块调阱宽 L → 实时画 |ψ|²，看峰值随 L 变胖
- 点击「加速到 L=0.1 nm」→ 峰值变针尖，肉眼验证「量子限域」

#### ③ 代码（Jupyter 内核直接跑）
```python
import numpy as np
import matplotlib.pyplot as plt

L = 1.0  # 单位：nm
x = np.linspace(0, L, 500)
psi = np.sqrt(2/L) * np.sin(np.pi * x / L)
prob = np.abs(psi)**2

plt.figure(figsize=(6, 3))
plt.fill_between(x, prob, alpha=0.6, color='#FF6B6B', label='|ψ|²')
plt.xlabel('x (nm)'); plt.ylabel('Probability density')
plt.title('Infinite Well Ground State'); plt.legend(); plt.show()
```

---

### 知识点 2/3：测量坍缩 —— 波函数 vs 经典贝叶斯

<details>
<summary>📖 专业名词速查（点击展开）</summary>

- **坍缩**：测量后 ψ 突变到本征态
- **算符 Â**：对应可观测量，如 𝑥̂, 𝑝̂
- **本征态**：Âψ=aψ，a 为确定值
</details>

#### ① 逐步推导（点击展开）
<details>
<summary>🔍 逐步推导（点击展开）</summary>

步骤 1：写测量前波函数  
ψ=c₁ψ₁+c₂ψ₂，|c₁|²+|c₂|²=1

步骤 2：测量 𝐴̂ 得本征值 a₁ 概率  
P(a₁)=|c₁|²

步骤 3：坍缩后波函数  
ψ→ψ₁（若测得 a₁）
</details>

#### ② 趣味性可视化
- 滑块调叠加系数 |c₁|² → 实时看坍缩概率
- 点击「重复 1000 次」→ 画柱状图，验证 Born 频率

#### ③ 代码（Jupyter 内核直接跑）
```python
import numpy as np
import matplotlib.pyplot as plt

c1 = 0.6
c2 = np.sqrt(1 - c1**2)
N = 1000
results = np.random.choice([0, 1], size=N, p=[c1**2, c2**2])

plt.figure(figsize=(4, 3))
plt.hist(results, bins=[-0.5, 0.5, 1.5], labels=['ψ₁', 'ψ₂'], color=['#FF6B6B', '#4ECDC4'])
plt.xticks([0, 1], ['ψ₁', 'ψ₂']); plt.ylabel('Counts'); plt.title('Collapse Frequency'); plt.show()
```

---

### 知识点 3/3：量子纠缠 —— 联合概率 & 非经典关联

<details>
<summary>📖 专业名词速查（点击展开）</summary>

- **张积态**：|Ψ⟩=|00⟩+|11⟩，不可分解
- **联合概率**：P(a,b)=|⟨ab|Ψ⟩|²
- **Bell 不等式**：经典关联上限，量子可破
</details>

#### ① 逐步推导（点击展开）
<details>
<summary>🔍 逐步推导（点击展开）</summary>

步骤 1：写 Bell 态  
|Φ⁺⟩=(|00⟩+|11⟩)/√2

步骤 2：计算关联期望  
E(θ₁,θ₂)=⟨Φ⁺|σ_θ₁⊗σ_θ₂|Φ⁺⟩=cos(θ₁−θ₂)

步骤 3：CHSH 值  
S=|E(a,b)−E(a,b′)+E(a′,b)+E(a′,b′)|≤2（经典）→ 2√2（量子）
</details>

#### ② 趣味性可视化
- 滑块调角度 θ₁,θ₂ → 实时画关联曲线，看量子>2 区域
- 点击「导出 CSV」→ 自己算 CHSH

#### ③ 代码（Jupyter 内核直接跑）
```python
theta1, theta2 = 0, np.pi/4
E = np.cos(theta1 - theta2)
print(f'E(θ1={theta1:.2f}, θ2={theta2:.2f}) = {E:.3f}')
```

---

## 3. 实践应用（Practical Applications）

> 每个应用 =「分步引导 + 核心知识点 + 小测试」  
> 必须逐步点击「已完成」才能解锁下一步；全部完成后弹出「知识点考察」。

---

### 应用一：量子硬币 —— 叠加 vs 经典概率

#### 第①步：进入实验室
功能：
1. 动画：硬币闪烁「Head？Tail？Both？」→ 用户犹豫
2. 核心知识点卡片：「叠加 = 复数振幅，经典 = 实数概率」
3. 点击「我已了解」→ 解锁第②步

#### 第②步：选择测量基
功能：
1. 单选按钮：「计算基 {|0⟩,|1⟩}」或「对角基 {|+⟩,|−⟩}」
2. 实时显示「预期概率」圆饼图
3. 点击「基已选定」→ 解锁第③步

#### 第③步：运行实验
功能：
1. 点击「发射 1000 电子」→ 进度条跑完，结果保存
2. 实时显示「Head 计数」与「叠加可见度」
3. 点击「实验完成」→ 解锁第④步

#### 第④步：对比经典
功能：
1. 输入经典偏倚 p → 实时显示经典二项分布
2. 点击「真实测量」→ 显示量子 vs 经典柱状图
3. 对比两种分布的 Brier 分数
4. 点击「测试完成」→ 弹出「知识点考察」

<!-- === 应用通关网关=== -->
<div class="app-gate" data-app="1">
  <button class="exam-btn">开始知识点考察（3 题）</button>
  <div class="exam-paper" style="display:none;">
    <ol>
      <li>单选：Born 规则指？
        <br/><label><input type="radio" name="q1" value="A"> A. 概率=ψ</label>
        <br/><label><input type="radio" name="q1" value="B"> B. 概率=|ψ|²</label>
        <br/><label><input type="radio" name="q1" value="C"> C. 概率=1/ψ</label>
      </li>
      <li>判断：测量后波函数一定坍缩到本征态。（√）</li>
      <li>单选：CHSH 值量子上限是？
        <br/><label><input type="radio" name="q3" value="A"> A. 2</label>
        <br/><label><input type="radio" name="q3" value="B"> B. 2√2</label>
        <br/><label><input type="radio" name="q3" value="C"> C. 4</label>
      </li>
    </ol>
  <button class="submit-exam">提交</button>
  <div class="exam-result" style="display:none;"></div>
</div>
</div>

<script>
/* ========= 应用通关逻辑 ========= */
document.querySelector('.exam-btn').addEventListener('click',e=>{
  document.querySelector('.exam-paper').style.display='block';
});
document.querySelector('.submit-exam').addEventListener('click',e=>{
  const ans=['B','√','B']; // 标准答案
  let score=0;
  ans.forEach((a,i)=>{
    const user=document.querySelector(`input[name="q${i+1}"]:checked`)?.value;
    if(user===a) score++;
  });
  const pass=score>=2; // ≥2 分通关
  document.querySelector('.exam-result').innerHTML=
    `${pass?'✅ 通关':'❌ 未通关'} 得分：${score}/3  
     <button onclick="location.reload()">${pass?'进入下一应用':'重考'}</button>`;
  document.querySelector('.exam-result').style.display='block';
});
</script>


## 4. 章节练习（Chapter Exercises）

**Level 3 分析与设计**  
功能：  
1. 设计一个「估算量子点发光波长」的实验方案，说明如何选 L、如何控制温度展宽  
2. 如果探测器效率仅 60%，给出两条矫正 CHSH 不等式统计的策略（提示：反事实计数、Fair-sampling 假设）  

---

### 1. 估算量子点发光波长实验方案（点击展开）
<details>
<summary>🧪 实验设计（点击展开）</summary>

#### ① 理论关系  
一维无限深势阱近似：  
Eₙ = n²h²/(8m*L²) → 发光波长  
λ = hc/ΔE = 8m*L²c/(3h) （取 n=2→1 跃迁）

#### ② 参数选择  
- 目标 λ=600 nm（可见光）  
- InAs 有效质量 m*=0.023mₑ  
解得 L ≈ 6.3 nm  

#### ③ 温度展宽控制  
- 低温 4 K，抑制声子散射线宽  
- 使用单色仪分辨率 ≤0.1 nm，激光线宽 ≤1 MHz  

#### ④ 数据流程  
```python
# 快速估算
h, c = 6.63e-34, 3e8
m_e = 9.1e-31
m_star = 0.023 * m_e
L = 6.3e-9  # m
delta_E = 3 * h**2 / (8 * m_star * L**2)  # J
lambda_nm = (h * c / delta_E) * 1e9
print(f'预测发光波长 ≈ {lambda_nm:.1f} nm')
```
</details>

---

### 2. 探测器效率 60% → CHSH 矫正策略（点击展开）
<details>
<summary>📈 策略详情（点击展开）</summary>

| 策略 | 核心思想 | 公式/代码 |
|---|---|---|
| **Fair-sampling** | 假设丢失随机，直接归一化 | S_eff = S_raw / η |
| **反事实计数** | 用存活事件估计丢失 | N++ = n++ / η² |
| **loophole-free 加权** | 引入轻耦合效率 η 作为权重 | w = 1/η，E→Σw·ab/Σw |

```python
eta = 0.60
S_raw = 2.30  # 未修正
S_fair = S_raw / eta
print(f'Fair-sampling 修正后 CHSH = {S_fair:.2f}')
if S_fair > 2:
    print('✅ 仍违反 Bell 不等式')
```
</details>

---

## 5. 网页内容设计概要（UI/UX）

- **顶部：** 标题「量子力学中的概率统计」+ 一句 slogan「用概率看懂量子」
- **左侧：** 固定导航栏，直接链接到【速通】【示例】【理论】【应用】【练习】
- **布局：**  
  - 【速通】部分：5 张折叠卡片，首屏 60%，右侧留空给「量子小喵🐱」GIF  
  - 【示例】部分：3D 滑杆占 70%，按钮悬浮底部，不打断动画  
  - 【理论】部分：3 张可折叠卡片，每卡右侧留 15% 给「AI 助手」与「解锁按钮」  
  - 【应用】部分：分步卡片，必须点击「已完成」才能解锁；完成后弹出「知识点考察」  
  - 【练习】部分：Level3 默认折叠，答题后展开解析与回链
- **视觉：** 主色 #4ECDC4（量子青），辅助灰 #E0E0E0，所有轨迹默认半透明 0.6

---

## 6. 附：完整 Level3 答题代码（Jupyter 一键运行）

```python
# 量子点波长估算
h, c = 6.63e-34, 3e8
m_e = 9.1e-31
m_star = 0.023 * m_e
L = 6.3e-9  # m
delta_E = 3 * h**2 / (8 * m_star * L**2)  # J
lambda_nm = (h * c / delta_E) * 1e9
print(f'预测发光波长 ≈ {lambda_nm:.1f} nm')

# CHSH 修正
eta = 0.60
S_raw = 2.30
S_fair = S_raw / eta
print(f'Fair-sampling 修正后 CHSH = {S_fair:.2f}')