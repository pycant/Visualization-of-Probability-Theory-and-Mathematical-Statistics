## 目标
- 参考 `tools/Genshin` 的抽卡模拟交互与信息展示方式，增强 `chapter1.html` 中 `#sec-1-3` 的操作流与结果展示，同时保持现有章节的霓虹玻璃风格与教学用途。
- 保留与强化：参数面板（已支持折叠/保存汇总）、两张可视化（折线/柱状）、公式面板（KaTeX + 代码高亮）；新增：操作按钮（单抽/十连）、抽卡日志表、星级颜色标识、保底/统计汇总条。

## 结构改造（HTML）
- 位置：`templates/chapter1.html:331-572` 的 `#sec-1-3` 区块内，左列参数面板之后、运行按钮之前增加两个区域：
  1) **操作区**：仿 `tools/Genshin/index.html` 顶部按钮，增加“单抽/十连”按钮，保留已有“批量100/1000、清空”。
  2) **日志区**：仿 `tools/Genshin/限定池.html` 的三栏布局，改为单卡片内的三列表格：
     - `5★汇总表`（金色底）、`日志表`（中央宽表，列：次数/结果/是否命中/随机数）、`4★汇总表`（紫色底）；若不引入物品数据，名字列以“命中/未命中/稀有”等占位展示。
- 新增容器与滚动：日志区卡片设置 `max-height` 与 `overflow`，在桌面端显示三栏，移动端堆叠。

## 样式整合（CSS）
- 在 `static/css/chapter1.css` 增加轻量样式（不与 Tailwind 冲突）：
  - `.gacha-log` 卡片容器：背景、边框、圆角。
  - `.gacha-log table`：紧凑表格风格，与现有玻璃卡一致。
  - `.jin`、`.zhi` 两类行底色（参考 `tools/Genshin/css/app.css`），改用本站霓虹色系（`--neon-purple` / `amber` 替代）。
  - 日志区滚动与自适应：`overflow:auto;`，限定表格高度以防长列表溢出。

## 交互与数据（JS）
- 在 `static/js/chapter1.js` 的 `setupGachaLab()`：
  - 新增“单抽/十连”按钮点击逻辑：
    - 单抽：`runOneSession()` 的一次调用；十连：调用 `runBatch(10)`。
  - 抽卡日志：
    - 维护 `logRows`、`sum4Rows`、`sum5Rows` 三个数组；每一次实验将其追加（结构：次数、结果/星级、是否命中、随机数）。
    - 通过轻量 DOM 更新（`innerHTML` 拼接或 `document.createElement`）渲染到三张表中。
  - 星级与命中映射：由于当前模型是“命中/未命中”而非 3/4/5 星，可采用演示规则：
    - 命中事件视为“5★”，或根据累计命中次数/随机数分配“4★/5★”标签（示例：`r <= 0.006 → 5★; r <= 0.051 → 4★; else 3★`），与 `tools/Genshin/js/limit.js:36-44` 保持一致的直觉展示。
  - 保底/统计：
    - 增加 `pity4`、`pity5` 计数并在“统计汇总条”显示（仿 `限定池.html` 顶部），同时在左列现有汇总卡片中补充“保底计数”与“距大保底”。
  - 汇总条：与“期望抽数/成本估计/幸运度”同卡片中追加一行，显示 `count`、`pity4`、`pity5`、`daBaodi`。

## 公式与滚动（保持现状）
- 已为 `#gacha-formula` 公式视图添加 `formula-scroll` 滚动支持；无需改动。

## 可选数据接入
- 可选择引入 `tools/Genshin/data/*.json` 的物品清单做演示（显示名字列），但为保持章节自包含，默认以占位文本“稀有命中/普通”等。不改动现有资源依赖结构，避免耦合。

## 无障碍与移动端
- 表头与按钮加 `aria-label`；表格在小屏幕下变为流式堆叠。
- 控件与表格颜色保持对比度，遵循现有配色变量。

## 验证与回归
- 功能验证：
  - 单抽/十连更新日志与汇总；保底计数正确；两图（`#gacha-line`/`#gacha-bar`）坐标轴标题与刻度不遮挡（已调整）。
- 兼容验证：
  - 与现有批量按钮、折叠保存汇总、KaTeX 渲染、代码高亮兼容。

## 变更范围
- 文件：
  - `templates/chapter1.html`（新增日志区与操作区结构）
  - `static/css/chapter1.css`（新增 `.gacha-log`、`.jin`、`.zhi` 等样式）
  - `static/js/chapter1.js`（在 `setupGachaLab()` 中新增按钮与日志渲染逻辑、保底计数）

请确认以上方案；确认后我将按此实施并在本地预览中验证交互与视觉效果。